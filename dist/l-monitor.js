(()=>{"use strict";let o=[],e={domExposureCollect:""};const t=function(t){"EXPOSURE"===t.type&&(o.push(t.data.id),e.domExposureCollect=o.join(","))};let l="";let n=[];window.LMonitor={collect:t,uploadInterval:function(o){setInterval((()=>{!function(){console.log("upload,data ==>",e);let o=new Image;const t=l,n=`?domExposureCollect=${e.domExposureCollect}`;o.src=t+n,o.onload=function(){console.log("Image loaded successfully"),o=null}}()}),o)},userSetApiUrl:o=>{l=o},userSetExposure:function(o){n=o,console.log("userSetExposureArr ==>",n),function(o){const e=new IntersectionObserver((function(e,l){e.forEach((e=>{e.isIntersecting&&o.includes(e.target.id)&&(console.log(`模块 ${e.target.id} 被曝光`),t({type:"EXPOSURE",data:{id:e.target.id}}))}))}),{root:null,threshold:.1});document.querySelectorAll(".module").forEach((o=>{e.observe(o)}))}(n)}}})();