<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Document</title>
  <style>
    .module {
      height: 200px;
      margin: 50px;
      background-color: lightblue;
    }
  </style>
</head>

<body>
  <h1>hello</h1>
  <div class="module" id="module1">цибхЭЧ 1</div>
  <div class="module" id="module2">цибхЭЧ 2</div>
  <div class="module" id="module3">цибхЭЧ 3</div>
  <div class="module" id="module3">цибхЭЧ 3</div>
  <div class="module" id="module4">цибхЭЧ 4</div>
  <div class="module" id="module4">цибхЭЧ 4</div>
  <div class="module" id="module4">цибхЭЧ 4</div>
  <div class="module" id="module4">цибхЭЧ 4</div>
  <div class="module" id="module4">цибхЭЧ 4</div>
  <div class="module" id="module4">цибхЭЧ 4</div>
  <div class="module" id="module4">цибхЭЧ 4</div>
  <div class="module" id="module4">цибхЭЧ 4</div>
  <div class="module" id="module4">цибхЭЧ 4</div>
  <div class="module" id="module4">цибхЭЧ 4</div>
  <div class="module" id="module4">цибхЭЧ 4</div>
  <div class="module" id="module4">цибхЭЧ 4</div>
  <div class="module" id="module4">цибхЭЧ 4</div>
  <div class="module" id="module4">цибхЭЧ 4</div>
  <div class="module" id="module4">цибхЭЧ 4</div>
  <div class="module" id="module4">цибхЭЧ 4</div>
  <div class="module" id="module4">цибхЭЧ 4</div>
  <div class="module" id="module4">цибхЭЧ 4</div>
  <div class="module" id="module4">цибхЭЧ 4</div>
  <div class="module" id="module4">цибхЭЧ 4</div>
  <div class="module" id="module4">цибхЭЧ 4</div>
  <div class="module" id="module4">цибхЭЧ 4</div>
  <div class="module" id="module4">цибхЭЧ 4</div>
  <div class="module" id="module4">цибхЭЧ 4</div>
  <div class="module" id="module4">цибхЭЧ 4</div>
  <div class="module" id="module4">цибхЭЧ 4</div>
  <div class="module" id="module4">цибхЭЧ 4</div>
  <div class="module" id="module4">цибхЭЧ 4</div>
  <div class="module" id="module4">цибхЭЧ 4</div>
  <div class="module" id="module4">цибхЭЧ 4</div>
  <div class="module" id="module4">цибхЭЧ 4</div>
  <div class="module" id="module4">цибхЭЧ 4</div>
  <div class="module" id="module4">цибхЭЧ 4</div>
  <div class="module" id="module4">цибхЭЧ 4</div>
  <div class="module" id="module4">цибхЭЧ 4</div>
  <div class="module" id="module4">цибхЭЧ 4</div>
  <div class="module" id="module4">цибхЭЧ 4</div>
  <div class="module" id="module4">цибхЭЧ 4</div>
  <div class="module" id="module4">цибхЭЧ 4</div>
  <div class="module" id="module4">цибхЭЧ 4</div>
  <div class="module" id="module4">цибхЭЧ 4</div>
  <div class="module" id="module4">цибхЭЧ 4</div>
  <div class="module" id="module4">цибхЭЧ 4</div>
  <div class="module" id="module4">цибхЭЧ 4</div>
  <div class="module" id="module4">цибхЭЧ 4</div>
  <div class="module" id="module4">цибхЭЧ 4</div>
  <div class="module" id="module4">цибхЭЧ 4</div>

  <script>
    (function () {
      const script = document.createElement('script')
      // script.src = '../dist/l-monitor.js'
      script.src = 'http://localhost:3000/l-monitor.js'
      // х░Жscript цаЗчн╛цПТхЕехИ░bodyхЕГч┤аф╕ЛчЪДчммф╕Аф╕кхЕГч┤аф╣ЛхЙН
      document.body.insertBefore(script, document.body.firstChild)
      script.onload = function () {
        // scriptхКаш╜╜хоМцИРя╝МхИЫх╗║х╣╢ц┤╛хПСф╕Аф╕кф╗╗хКбуАВщАЪш┐ЗчЫСхРмш┐Щф╕кф╗╗хКбя╝МцЭешО╖хПЦscriptхКаш╜╜ш┐Ых║ж
        const event = new CustomEvent('onMonitorScriptLoad')
        window.dispatchEvent(event)
      }
    })()


    window.addEventListener('onMonitorScriptLoad', function (e) {
      console.log('ЁЯЪА шДЪцЬмхКаш╜╜хоМцИР ')
      const monitor = window.LMonitor
      // шо╛ч╜оф╕КцКецОехПгхЬ░хЭА
      monitor.userSetApiUrl('http://127.0.0.1:3000/l-monitor-upload')

      // цМЗхоЪщЬАшжБцЫЭхЕЙхЕГч┤аid
      monitor.userSetExposure(['module1', 'module2'])

      // шо╛ч╜оф╕КцКещЧ┤щЪФцЧ╢щЧ┤
      monitor.uploadInterval(3000)
    })


  </script>
</body>

</html>